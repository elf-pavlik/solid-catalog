@prefix ex: <http://example.org/#> . # uses tmp namespace until predicates finalized
@prefix con: <catalog-skos.ttl#> .  # SKOS concept tree

@prefix sh: <http://www.w3.org/ns/shacl#> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .

###########
# SERVICE #
###########

ex:Service a sh:NodeShape ;
  sh:targetClass ex:Service;
  sh:property [
    sh:path ex:name ;
    sh:datatype xsd:string ;
    sh:minCount 1 ;
    sh:maxCount 1 
  ] ;
  sh:property [
    sh:path ex:subType ;
    sh:or (  
      con:GeneralPurposePodService
      con:SpecializedPodService
      con:IdentityService
      con:StorageService
      con:ChatService
      con:ForumService
      con:MailingListService
    ) ;
    sh:minCount 1 ;
    sh:maxCount 1
  ] ;
  sh:property [
    sh:path ex:status ;
    sh:or(
      con:Exploration
      con:Development
      con:Production
      con:Archived
    ) ;
    sh:minCount 1 ;
    sh:maxCount 1
  ]  ;
  sh:property [
    sh:path ex:description ;
    sh:datatype xsd:string ;
    sh:maxLength 280 ;
    sh:maxCount 1
  ] ;
  sh:property [
    sh:path ex:contactEmail ;
    sh:datatype xsd:string ;
    sh:pattern "^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+.[a-zA-Z]{2,}$" ;
    sh:description "if you wish to share the email privately to ODI, leave this blank & contact @jesswr" ;
    sh:maxCount 1
  ] ;
  sh:property [
    sh:path ex:logo ;
    sh:datatype xsd:anyURI ;
    sh:maxCount 1
  ] ;
  sh:property [
    sh:path ex:landingPage ;
    sh:datatype xsd:anyURI ;
    sh:maxCount 1
  ] ;
  sh:property [
    sh:path ex:serviceEndpoint ;
    sh:datatype xsd:anyURI ;
    sh:maxCount 1
  ] ;
  sh:property [
    sh:path ex:provider ;
    sh:description "name of Person(s) and/or Organization(s)" ;
    sh:datatype xsd:string  # will become URL of Person or Organization
  ] ;
  sh:property [
    sh:path ex:socialKeyword ;
    sh:datatype xsd:string ;
    sh:description "comma-separated list for specialized services e.g. housing, transportation, name of an industry";
    sh:zeroOrMore true
  ] ;
  sh:property [
    sh:path ex:serviceBackend ;
    sh:description "name of server software (e.g. ESS for inrupt.com)";
    sh:datatype xsd:string # will become URL of a Product
  ] ;
  sh:property [
    sh:path ex:serviceFrontend ;
    sh:description "name of server frontend (e.g. SolidOS or Penny)";
    sh:datatype xsd:string # will become URL of a Product
  ] ;
  sh:property [
    sh:path ex:serviceAudience ;
    sh:datatype xsd:string ;
    sh:description "for targeted Pod Services only; e.g. 'citizens of Belgium' or 'Yarrabah community'" ;
    sh:maxCount 1
  ] .


###########
# PRODUCT #
###########

ex:Product a sh:NodeShape ;
  sh:targetClass ex:Product ;
  sh:property [
    sh:path ex:name ;
    sh:datatype xsd:string ;
    sh:minCount 1 ;
    sh:maxCount 1
  ] ;
  sh:property [
    sh:path ex:subType ;
    sh:or (
      con:Application
      con:PodServer
      con:ServerPlugin
      con:DevelopmentTool
      con:StorageServer
      con:IdentityServer
    ) ;
    sh:minCount 1 ;
    sh:maxCount 1
  ] ;
  sh:property [
   sh:path ex:partOf ;
   sh:description "for ServerPlugin/Component, name of server; for other product, name of software product is part of" ;
   sh:datatype xsd:string ;
  ] ;
  sh:property [
    sh:path ex:status ;
    sh:or(
      con:Exploration
      con:Development
      con:Production
      con:Archived
    ) ;
    sh:minCount 1 ;
    sh:maxCount 1
  ] ;
  sh:property [
    sh:path ex:contactEmail ;
    sh:datatype xsd:string ;
    sh:pattern "^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+.[a-zA-Z]{2,}$" ;
    sh:description "if you wish to share the email privately to ODI, leave this blank & contact @jesswr" ;
    sh:maxCount 1
  ] ;
  sh:property [
    sh:path ex:description ;
    sh:datatype xsd:string ;
    sh:maxLength 280 ;
    sh:maxCount 1 ;
    sh:maxCount 1
  ] ;
  sh:property [
    sh:path ex:clientID ;
    sh:datatype xsd:string ;
    sh:description "an OIDC ClientID, if available" ;
    sh:maxCount 1
  ] ;
  sh:property [
    sh:path ex:logo ;
    sh:datatype xsd:anyURI ;
    sh:maxCount 1
  ] ;
  sh:property [
    sh:path ex:landingPage ;
    sh:datatype xsd:anyURI ;
    sh:maxCount 1
  ] ;
  sh:property [
    sh:path ex:webAppEndpoint ;
    sh:description "URL of an app that can be run from an online endpoint" ;
    sh:datatype xsd:anyURI ;
    sh:maxCount 1
  ] ;
  sh:property [
    sh:path ex:provider ;
    sh:description "name of Person(s) and/or Organization(s)" ;
    sh:datatype xsd:string  # will become URL of Person or Organization
  ] ;
  sh:property [
    sh:path ex:socialKeyword ;
    sh:datatype xsd:string ;
    sh:description "comma-separated list for specialized services e.g. housing, transportation, name of an industry";
    sh:zeroOrMore true
  ] ;
  sh:property [
    sh:path ex:technicalKeyword ;
    sh:description "comma-separated list for product type e.g. game, calendar, contacts manager" ;
    sh:datatype xsd:string ;
    sh:zeroOrMore true
  ] .
#  sh:property [
#    sh:path ex:license ;
#    sh:datatype xsd:string ;
#    sh:description "an open-source software license, or 'proprietary'" ;
#    sh:maxCount 1
#  ] ;
#  sh:property [
#   sh:path ex:programmingLanguage ;
#    sh:datatype xsd:string ;
#  ] ;
#  sh:property [
#    sh:path ex:framework ;
#    sh:datatype xsd:string ;
#    sh:description "e.g. React,Vue, ...";
#  ] .

# PATHS FOR LATER
#
# ex:platform (operating evnironment Server/Browser/Native-Client)
# ex:implements (e.g. protocol,requirement)
# ex:reads (shape,conceptScheme,vocabulary,rdfs:Class)
# ex:writes (shape,conceptScheme,vocabulary,rdfs:Class)


################
# ORGANIZATION #
################

ex:Organization a sh:NodeShape ;
  sh:targetClass ex:Organization ;
  sh:property [
    sh:path ex:name ;
    sh:datatype xsd:string ;
    sh:minCount 1 ;
    sh:maxCount 1
  ] ;
  sh:property [
    sh:path ex:subType ;
    sh:or (
      con:Company
      con:GovernmentalOrganization
      con:UniversityProject
      con:OpenSourceProject
      con:FundingOrganization
      con:OtherNGO
    ) ;
    sh:minCount 1 ;
    sh:maxCount 1
  ] ;
  sh:property [
    sh:path ex:contactEmail ;
    sh:datatype xsd:string ;
    sh:pattern "^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+.[a-zA-Z]{2,}$" ;
    sh:description "if you wish to share the email privately to ODI, leave this blank & contact @jesswr" ;
    sh:maxCount 1
  ] ;
  sh:property [
    sh:path ex:description ;
    sh:datatype xsd:string ;
    sh:maxLength 280 ;
    sh:maxCount 1
  ] ;
  sh:property [
    sh:path ex:logo ;
    sh:datatype xsd:anyURI ;
    sh:maxCount 1
  ] ;
  sh:property [
    sh:path ex:landingPage ;
    sh:datatype xsd:anyURI ;
    sh:maxCount 1
  ] ;
  sh:property [
    sh:path ex:socialKeyword ;
    sh:datatype xsd:string ;
    sh:description "comma-separated list for specialized services e.g. housing, transportation, name of an industry";
    sh:zeroOrMore true
  ] ;
  sh:property [
    sh:path ex:resourcesWanted ;
    sh:datatype xsd:string ;
    sh:maxLength 280 ;
    sh:description "funding, employees, interns, partners, separate multiple with a blank line"
  ] ;
  sh:property [
    sh:path ex:resourcesOffered ;
    sh:datatype xsd:string ;
    sh:maxLength 280 ;
    sh:description "funding, mentorship, collaboration,  separate multiple with a blank line"
  ] .


##########
# PERSON #
##########

ex:Person a sh:NodeShape ;
  sh:targetClass ex:Person ;
  sh:property [
    sh:path ex:name ;
    sh:datatype xsd:string ;
    sh:minCount 1 ;
    sh:maxCount 1
  ] ;
  sh:property [
    sh:path ex:contactEmail ;
    sh:datatype xsd:string ;
    sh:pattern "^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+.[a-zA-Z]{2,}$" ;
    sh:description "if you wish to share the email privately to ODI, leave this blank & contact @jesswr" ;
    sh:maxCount 1
  ] ;
  sh:property [
    sh:path ex:webid ;
    sh:description "your WebID" ;
    sh:datatype xsd:string ;
    sh:maxCount 1
  ] ;
  sh:property [
    sh:path ex:forumHandle ;
    sh:datatype xsd:string ;
    sh:description "your handle on the Solid Forum" ;
    sh:maxCount 1
  ] ;
  sh:property [
    sh:path ex:matrixHandle ;
    sh:description "your handle in the Matric chatrooms" ;
    sh:datatype xsd:string ;
    sh:maxCount 1
  ] ;
  sh:property [
    sh:path ex:description ;
    sh:datatype xsd:string ;
    sh:maxLength 280 ;
    sh:description "describe your interest and/or work in Solid" ;
    sh:maxCount 1 ;
  ] ;
  sh:property [
    sh:path ex:image ;
    sh:datatype xsd:anyURI ;
    sh:maxCount 1
  ] ;
  sh:property [
    sh:path ex:landingPage ;
    sh:datatype xsd:anyURI ;
    sh:maxCount 1
  ] ;
  sh:property [
    sh:path ex:resourcesWanted ;
    sh:datatype xsd:string ;
    sh:maxLength 280 ;
    sh:description "positions or funding wanted; separate multiple requests with blank lines"
  ] ;
  sh:property [
    sh:path ex:resourcesOffered ;
    sh:datatype xsd:string ;
    sh:maxLength 280 ;
    sh:description "funding, mentorship, collaboration, offered; separate multiple with a blank line"
  ] .

  
#################
# SPECIFICATION #
#################

ex:Specification a sh:NodeShape ;
  sh:targetClass ex:Specification ;
  sh:property [
    sh:path ex:name ;
    sh:datatype xsd:string ;
    sh:minCount 1 ;
    sh:maxCount 1
  ] ;
  sh:property [
    sh:path ex:description ;
    sh:datatype xsd:string ;
    sh:maxLength 280 ;
    sh:description "describe the specification" ;
    sh:maxCount 1 ;
  ] ;
  sh:property [
    sh:path ex:landingPage ;
    sh:datatype xsd:anyURI ;
    sh:maxCount 1
  ] .

############
# ONTOLOGY #
############

ex:Ontology a sh:NodeShape ;
  sh:targetClass ex:Ontology ;
  sh:property [
    sh:path ex:name ;
    sh:datatype xsd:string ;
    sh:minCount 1 ;
    sh:maxCount 1
  ] ;
  sh:property [
    sh:path ex:description ;
    sh:datatype xsd:string ;
    sh:maxLength 280 ;
    sh:description "describe the ontology" ;
    sh:maxCount 1 ;
  ] ;
  sh:property [
    sh:path ex:namespaceURI ;
    sh:datatype xsd:anyURI ;
    sh:maxCount 1
  ] ;
  sh:property [
    sh:path  ex:prefix ;
    sh:datatype xsd:string ;
    sh:maxCount 1
  ] .

#####################
# LEARNING-RESOURCE #
#####################

ex:LearningResource a sh:NodeShape ;
  sh:targetClass ex:LearningResource ;
  sh:property [
    sh:path ex:name ;
    sh:datatype xsd:string ;
    sh:minCount 1 ;
    sh:maxCount 1
  ] ;
  sh:property [
    sh:path ex:subType ;
    sh:or (
      con:Tutorial
      con:ResearchPaper
      con:Explainer
      con:SpecificationSupplement
      con:Video
      con:OtherLearningResource
    ) ;
    sh:minCount 1 ;
    sh:maxCount 1
  ] ;
  sh:property [
    sh:path ex:description ;
    sh:datatype xsd:string ;
    sh:maxLength 280 ;
    sh:description "describe the learning resource" ;
    sh:maxCount 1 ;
  ] ;
  sh:property [
    sh:path ex:about ;
    sh:description "the product or topic of the learning resource" ;
    sh:datatype xsd:anyURI ;
    sh:maxCount 1 ;
  ] ;
  sh:property [
    sh:path ex:technicalKeyword ;
    sh:description "comma-separated list for product type e.g. game, calendar, contacts manager" ;
    sh:datatype xsd:string ;
    sh:zeroOrMore true
  ] ;
  sh:property [
    sh:path ex:landingPage ;
    sh:datatype xsd:anyURI ;
    sh:maxCount 1
  ] .

#########
# EVENT #
#########

ex:Event a sh:NodeShape ;
  sh:targetClass ex:Event ;
  sh:property [
    sh:path ex:name ;
    sh:datatype xsd:string ;
    sh:minCount 1 ;
    sh:maxCount 1
  ] ;
  sh:property [
    sh:path ex:description ;
    sh:datatype xsd:string ;
    sh:maxLength 280 ;
    sh:description "describe the event" ;
    sh:maxCount 1 ;
  ] ;
  sh:property [
    sh:path ex:about ;
    sh:description "the product or topic of the learning resource" ;
    sh:datatype xsd:anyURI ;
    sh:maxCount 1 ;
  ] ;
  sh:property [
    sh:path ex:provider ;
    sh:datatype xsd:anyURI ;
    sh:maxCount 1 ;
  ] ;
  sh:property [
    sh:path ex:schedule ;
    sh:datatype xsd:string ;
    sh:maxCount 1 ;
  ] ;
  sh:property [
    sh:path ex:provider ;
    sh:datatype xsd:anyURI ;
    sh:maxCount 1 ;
  ] ;
  sh:property [
    sh:path ex:videoCallPage ;
    sh:datatype xsd:anyURI ;
    sh:maxCount 1 ;
  ] ;
  sh:property [
    sh:path ex:landingPage ;
    sh:datatype xsd:anyURI ;
    sh:maxCount 1
  ] .
